{% from "govuk/components/back-link/macro.njk" import govukBackLink %}
{% from "govuk/components/details/macro.njk" import govukDetails %}
{% from "govuk/components/button/macro.njk" import govukButton %}
{% from "govuk/components/table/macro.njk" import govukTable %}

{% extends "partials/layout.njk" %}

{% set pageTitle = applicationName + " - " + premises.name %}
{% set mainClasses = "app-container govuk-body" %}

{% block beforeContent %}
    {{ govukBackLink({
        text: "Back",
        href: backlink
    }) }}
{% endblock %}

{% block content %}
    {% include "_messages.njk" %}

    <span class="govuk-caption-l">{{ premises.name }}</span>
    <h1 class="govuk-heading-l">Local restrictions</h1>

    {{ govukDetails({
        summaryText: 'View AP criteria',
        html: characteristics
    }) }}

    {% if not restrictionsRows | length %}
        <p>This AP has no local restrictions.</p>
    {% endif %}

    {{ govukButton({
        text: "Add a restriction",
        href: paths.premises.localRestrictions.new({ premisesId: premises.id })
    }) }}

    {% if restrictionsRows | length %}
        {{ govukTable({
            head: [
                { text: "Restriction" },
                { text: "Date added" },
                { text: "Actions", classes: 'table__column--collapse' }
            ],
            rows: restrictionsRows
        }) }}
    {% endif %}

{% endblock %}
