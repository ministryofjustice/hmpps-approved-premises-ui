{% extends "../partials/layout.njk" %}

{% from "govuk/components/select/macro.njk" import govukSelect %}
{% from "govuk/components/date-input/macro.njk" import govukDateInput %}
{% from "govuk/components/button/macro.njk" import govukButton %}

{% set pageTitle = applicationName + " - Track progress on Community Payback" %}
{% set mainClasses = "app-container govuk-body" %}

{% block content %}

  <h1>Track progress on Community Payback</h1>

  <form action="{{ paths.sessions.search() }}" method="get" class="search-and-filter">
    <input type="hidden" name="_csrf" value="{{ csrfToken }}">

    <h2 class="govuk-heading-m">Find a session</h2>

    <div class="search-and-filter__row">
      {{ govukSelect({
          label: {
              text: "Region",
              classes: "govuk-label--s"
          },
          id: "provider",
          name: "provider",
          items: [{
              value: "1000",
              text: "East of England"
            }]
          }) }}

      {{ govukSelect({
          label: {
              text: "Team",
              classes: "govuk-label--s"
          },
          id: "team",
          name: "team",
          items: teamItems
      }) }}
    </div>

    <div class="search-and-filter__row">

    {{ govukDateInput({
      id: "startDate",
      namePrefix: "startDate",
      fieldset: {
        legend: {
          text: "From",
          classes: "govuk-!-font-weight-bold"
        }
      },
      items: startDateItems
    }) }}

    {{ govukDateInput({
      id: "endDate",
      namePrefix: "endDate",
      fieldset: {
        legend: {
          text: "To",
          classes: "govuk-!-font-weight-bold"
        }
      },
      items: endDateItems
    }) }}

    {{ govukButton({
      "name": "submit",
      "text": "Search",
      preventDoubleClick: true
    }) }}
    </div>

  </form>

  {% if sessionRows | length %}
    {% include "./_table.njk" %}
  {% endif %}

{% endblock %}
